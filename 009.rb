p (1..1000).map{|i| (i+1..1000).map{[i,_1,1000-i-_1]}}.flatten(1).select{_1**2+_2**2==_3**2}[0].reduce(:*)